<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Deadpool</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.1/dist/hls.min.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

:root {
  --primary: #ffcc00;
  --secondary: #111827;
  --accent: #f59e0b;
}

body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  color: white;
  min-height: 100vh;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

.scrollbar-hide::-webkit-scrollbar { display: none; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

.movie-card {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
              0 4px 6px -2px rgba(0, 0, 0, 0.05);
}
.movie-card:hover {
  transform: translateY(-8px) scale(1.03);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
              0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.header-glow { text-shadow: 0 0 10px rgba(255, 204, 0, 0.7); }

.movie-poster { aspect-ratio: 2/3; transition: transform 0.5s ease; }
.movie-card:hover .movie-poster { transform: scale(1.05); }

.modal-overlay {
  position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,0.85); z-index: 1000;
}
.modal-card {
  width: 95%; max-width: 1100px;
  background: linear-gradient(180deg, rgba(17,24,39,0.9), rgba(17,24,39,0.95));
  border-radius: 12px; overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.7);
  border: 1px solid rgba(255,204,0,0.06);
}
.modal-header {
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; border-bottom: 1px solid rgba(255,255,255,0.03);
  background: linear-gradient(90deg, rgba(0,0,0,0.2), transparent);
}
.modal-title { font-size: 1.125rem; font-weight:600; color: #ffea8a; }
.modal-close-btn {
  width:40px;height:40px;border-radius:999px;background:transparent;
  border:1px solid rgba(255,255,255,0.04);
  display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;
}
.modal-player {
  position: relative; padding-bottom: 56.25%; height: 0; background: black;
}
.modal-player video,
.modal-player iframe {
  position:absolute; top:0; left:0; width:100%; height:100%; background:black;
}
</style>
</head>

<body class="relative">

<!-- Floating stars bg -->
<div class="fixed inset-0 overflow-hidden -z-10">
  <div class="absolute inset-0 bg-gradient-to-b from-transparent to-black/80"></div>
  <div class="stars"></div><div class="stars2"></div>
</div>

<div class="container mx-auto px-4 py-8 max-w-7xl">
  <div class="relative w-full h-[400px] md:h-[500px] overflow-hidden">
    <iframe src="https://www.youtube.com/embed/VHAK-gU9gi0?autoplay=1&mute=1&loop=1&playlist=VHAK-gU9gi0&controls=0"
      frameborder="0" allow="autoplay; fullscreen"
      class="absolute top-1/2 left-1/2 w-[177.78vh] h-[100vh] min-w-full min-h-full -translate-x-1/2 -translate-y-1/2 pointer-events-none">
    </iframe>
  </div>

  <img src="https://pngimg.com/d/deadpool_PNG43.png"
    alt="HAQ Logo" class="absolute top-4 left-4 h-16 md:h-24 animate-logo z-10"/>
</div>

<style>
.animate-logo { animation: float-pulse 3s ease-in-out infinite, glow-logo 2s ease-in-out infinite alternate; }
@keyframes float-pulse { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-8px);} }
@keyframes glow-logo {
  0%{filter:drop-shadow(0 0 2px #fffa65) drop-shadow(0 0 4px #ffba00);}
  50%{filter:drop-shadow(0 0 6px #fffa65) drop-shadow(0 0 12px #ffba00);}
  100%{filter:drop-shadow(0 0 2px #fffa65) drop-shadow(0 0 4px #ffba00);}
}
@media (max-width:768px){.animate-logo{height:4rem;top:1rem;left:1rem;}}
</style>

<!-- Movies Grid -->
<div class="mb-12 mt-8">
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6" id="movies"></div>
</div>

<footer class="py-6 border-t border-gray-800 text-center text-gray-400">
  <p>Â© Deadpool Universe</p>
</footer>

<!-- Modal -->
<div id="video-modal" class="modal-overlay hidden">
  <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-header">
      <div id="modal-title" class="modal-title"></div>
      <button id="close-video-modal" class="modal-close-btn"><i class="fas fa-times"></i></button>
    </div>
    <div class="modal-player">
      <video id="modal-video" class="w-full h-full" controls playsinline></video>
    </div>
  </div>
</div>

<script>
const movies = [
  { title: "Deadpool", video: "https://vip.opstream11.com/20220314/1878_cbdf514c/index.m3u8", image: "https://wsrv.nl/?url=https://image.tmdb.org/t/p/w500/3E53WEZJqP6aM84D8CckXx4pIHw.jpg",year: 2016 },
  { title: "Deadpool: No Good Deed", video: "https://main-2.robertjuniorblake.workers.dev/video.m3u8?q=Vm1qa1VrMnJQLTk2dWZmd3ltMnFwQTpoNXlJc25ybnZhTnZQY1ZVZ19jclhCTjlhdlFUM1dQcVlWSHVIakZUT0hEZDhSWTh1d096cTl3Q0xlTmxPQ3REc1h6R2o2al9WaHlYSExCMDZjTXdWSWtaQ1JwYUk5M1JGNk5YRUZJaDZmY1lHVzJYSW54U0s5MlY1VlJONkpDaG1RTVNmTlZmOHV0THpVT2dibWEzRXpKcFBTY0J3c1J3UW44TlRvOEFncmY4cEdMUzhJTDFheC1GN3NaYzBRS3E5N2lqcGE5Q1kyYnFTMHRUSGhfd3NiYk5pVXZabTZ3aGwxRzZYeDhVRW45dTUwQVJXX1Q3bzhnSTgwWW1zcHFmUDdQMlVJbThVVGJsOF9LS0pXZmFBQ05ENDdCa0hZYjg0Tk1CSjh0U0YxSGQyTmNNYnJ4dU9reHRNczZQR2twVExuMGNRd3d0bkxmR3k3OFJ0TEhTQlBvak9BaTdvSWdycWpQVFEzSEFSamc&type=hls", image: "https://wsrv.nl/?url=https://image.tmdb.org/t/p/w780/wlKU9yB0Q8nfPMakBcSBT0JGS7.jpg" ,year: 2017},
  { title: "DEADPOOL 2", video: "https://vip.opstream11.com/20220314/1879_f5f41b4c/index.m3u8", image: "https://theposterdepot.com/cdn/shop/products/deadpool2ptr08201901_ed167c6b-48fa-43f0-a7a9-bdc094e37926_580x.jpg?v=1754777660",year: 2018 },
  { title: "Deadpool & Wolverine", video: "https://vip.opstream11.com:443/20241002/54005_201c0f76/3000k/hls/mixed.m3u8", image: "https://i.pinimg.com/736x/6f/4a/b8/6f4ab823d4a61e08724d647c14daa888.jpg",year: 2024 },  
  
];

const container = document.getElementById('movies');
const videoModal = document.getElementById('video-modal');
const modalTitle = document.getElementById('modal-title');
let currentHls = null;

function showModal(){ videoModal.classList.remove('hidden'); document.body.style.overflow='hidden'; }
function hideModal(){ videoModal.classList.add('hidden'); document.body.style.overflow=''; }

function isHls(u){return u.includes('.m3u8')||u.includes('index-')||/index.*\.txt/i.test(u);}
function isMP4(u){return /\.mp4($|\?)/i.test(u);}
function isYouTube(u){return u.includes('youtu');}

function playInModal(title, url) {
  if (currentHls) {
    try { currentHls.destroy(); } catch (e) {}
    currentHls = null;
  }
  const playerContainer = document.querySelector('.modal-player');
  const modalVideo = document.getElementById('modal-video');
  modalTitle.textContent = title || '';

  // Streamtape
  if (url.includes('streamtape.com')) {
    playerContainer.innerHTML = `<iframe src="${url}" width="100%" height="100%" allowfullscreen allowtransparency allow="autoplay" scrolling="no" frameborder="0"></iframe>`;
    showModal();
    return;
  }

  // YouTube
  if (isYouTube(url)) {
    playerContainer.innerHTML = `
      <iframe src="${url}?autoplay=1&modestbranding=1&rel=0"
              width="100%" height="100%"
              allowfullscreen
              allow="autoplay; encrypted-media"
              frameborder="0"></iframe>`;
    showModal();
    return;
  }

  // HLS
  if (isHls(url)) {
    if (Hls.isSupported()) {
      currentHls = new Hls();
      currentHls.loadSource(url);
      currentHls.attachMedia(modalVideo);
      currentHls.on(Hls.Events.MANIFEST_PARSED, () => { showModal(); modalVideo.play().catch(() => {}); });
    } else {
      modalVideo.src = url;
      showModal();
      modalVideo.play().catch(() => {});
    }
    return;
  }

  // MP4
  if (isMP4(url)) {
    modalVideo.src = url;
    showModal();
    modalVideo.play().catch(() => {});
    return;
  }

  // Redirect to player.html for other formats
  window.location.href = `player.html?title=${encodeURIComponent(title)}&video=${encodeURIComponent(url)}`;
}

function closePlayer(){
  if(currentHls){try{currentHls.destroy();}catch(e){}currentHls=null;}
  const playerContainer=document.querySelector('.modal-player');
  playerContainer.innerHTML=`<video id="modal-video" class="w-full h-full" controls playsinline></video>`;
  hideModal();
}

document.getElementById('close-video-modal').addEventListener('click',closePlayer);
videoModal.addEventListener('click',e=>{if(e.target===videoModal)closePlayer();});

function renderMovies(list){
  container.innerHTML='';
  list.forEach((movie,i)=>{
    const div=document.createElement('div');
    div.className=`movie-card animate-fade-in rounded-xl overflow-hidden bg-gray-800 hover:bg-gray-700 cursor-pointer relative group`;
    div.innerHTML=`
      <div class="relative overflow-hidden rounded-t-lg">
        <img src="${movie.image}" alt="${movie.title}" class="w-full h-full object-cover movie-poster">
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
          <button class="bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-2 px-4 rounded-full transition transform hover:scale-105">
            <i class="fas fa-play mr-2"></i> Watch Now
          </button>
        </div>
      </div>
      <div class="p-4">
        <h3 class="font-semibold text-lg truncate">${movie.title}</h3>
        <div class="flex justify-between items-center mt-2 text-sm text-gray-400"><span>${movie.year||''}</span></div>
      </div>`;
    div.addEventListener('click',()=>playInModal(movie.title,movie.video));
    container.appendChild(div);
  });
}
renderMovies(movies);
</script>

<canvas id="sparkCanvasPage"></canvas>
<style>
#sparkCanvasPage{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10000;}
</style>
<script>
const canvas=document.getElementById('sparkCanvasPage');const ctx=canvas.getContext('2d');const sparks=[];
function resizeCanvas(){canvas.width=innerWidth;canvas.height=innerHeight;}window.addEventListener('resize',resizeCanvas);resizeCanvas();
const easing=t=>t*(2-t);const dur=300,count=6,size=8,radius=12,color='#00f2ff';
function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);const now=performance.now();
for(let i=sparks.length-1;i>=0;i--){const s=sparks[i];const el=now-s.t;if(el>=dur){sparks.splice(i,1);continue;}
const p=el/dur;const e=easing(p);const d=e*radius;const l=size*(1-e);const x1=s.x+d*Math.cos(s.a),y1=s.y+d*Math.sin(s.a);
const x2=s.x+(d+l)*Math.cos(s.a),y2=s.y+(d+l)*Math.sin(s.a);ctx.strokeStyle=color;ctx.lineWidth=1.5;ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke();}
requestAnimationFrame(draw);}requestAnimationFrame(draw);
document.addEventListener('click',e=>{for(let i=0;i<count;i++){sparks.push({x:e.clientX,y:e.clientY,a:(2*Math.PI*i)/count,t:performance.now()});}});


</script>
</body>
</html>
